<!DOCTYPE html>
<html lang="en">

<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
        integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
        crossorigin="anonymous"></script>
    <title>Exercício 1</title>

</head>

<style>
    body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
            'Open Sans', 'Helvetica Neue', sans-serif;
    }

    .erro {
        color: red;
        font-size: larger;
    }
</style>

<body>

    <p>

        <label for="carta1"> Valor A: </label>
        <input type="number" id="carta1" min="1" max="6" required>

    </p>

    <p>

        <label for="carta2"> Valor B: </label>
        <input type="number" id="carta2" min="1" max="6" required>

    </p>

    <p>

        <label for="carta3"> Valor C: </label>
        <input type="number" id="carta3" min="1" max="6" required>

    </p>

    <p>

        <label for="carta4"> Valor D: </label>
        <input type="number" id="carta4" min="1" max="6" required>

    </p>

    <p>
        <label for="carta5"> Valor E: </label>
        <input type="number" id="carta5" min="1" max="6" required>

    </p>

    <p>

        <button onclick="cartaFaltante()">Enviar</button>

    </p>

    <div id="resultado"></div>

    <script>

        function cartaFaltante() {

            let cartas = []
            let erro = ''
            let valoresRepetidos = new Set()

            for (let i = 1; i <= 5; i++) {
                let input = document.getElementById('carta' + i)
                let value = Number(input.value)

                if (isNaN(value) || value < 1 || value > 6) {
                    erro = 'O valor informado é inválido!'
                    break
                }

                if (valoresRepetidos.has(value)) {
                    erro = 'Os valores informados estão repetidos!'
                    break
                }

                valoresRepetidos.add(value)
                cartas.push(value)
            }

            if (erro) {
                mostrarErro(erro)

            }

            else {

                let cartaFaltando = valorFaltando(cartas)
                mostrarFaltante(cartaFaltando)
            }
        }

        function valorFaltando(cartas) {
            let expectedSum = 21
            let actualSum = cartas.reduce((acc, card) => acc + card, 0)
            return expectedSum - actualSum
        }

        function mostrarFaltante(numeroCarta) {
            let resultadoDiv = document.getElementById('resultado')
            resultadoDiv.innerText = 'A carta faltante é: ' + numeroCarta
        }

        function mostrarErro(erro) {
            let resultadoDiv = document.getElementById('resultado')
            resultadoDiv.innerText = ''
            let erroDiv = document.createElement('div')
            erroDiv.classList.add('erro')
            erroDiv.innerText = erro
            resultadoDiv.appendChild(erroDiv)
        }

    </script>

</body>

</html>